// Style for the sidebar menu.

nav[role="navigation"] {
  display: none;
  visibility: hidden;
  @include AU-media( md ) {
    display: block;
    visibility: visible;
  }
  .au-link-list {
    @include AU-space( padding, 0 );
    li {
      @include AU-space( margin, 0 );
      border-top: 1px solid $AU-color-background-alt-shade-suggestion;
    }
    a {
      display: block;
      text-decoration: none;
      border-left: 8px solid transparent;
      &:hover {
        text-decoration: underline;
        border-left: 8px solid $AU-colordark-foreground-action;
      }
      &.is-active {
        background-color: $AU-color-background-alt-shade-suggestion;
        color: $AU-color-foreground-text;
        font-weight: bold;
        border: none;
        margin-top: -1px;
        margin-bottom: -1px;
        border-left: 8px solid $AU-colordark-foreground-action;
      }
    }

    // Took this out because we moved all the menu items up a level, so this
    // top level design wasn't needed. Keeping it for posterity.
    //
    // &.menu-level-0 {
    //   > li {
    //     // Menu level 0 (root)
    //     border: none;
    //     > a {
    //       // The root 'title' of each menu section.
    //       @include AU-fontgrid( md );
    //       @include AU-space( margin-left, 1unit );
    //       @include AU-space( padding, 1unit 0.5unit 1unit 1unit);
    //       border-top: 1px solid $AU-color-foreground-border-suggestion;
    //       font-weight: bold;
    //       color: $AU-color-foreground-text;
    //       border-left: none;
    //       &:hover {
    //         border-left: none;
    //       }
    //       &:first-child {
    //         border-top: none;
    //       }
    //       &.is-active {
    //         color: $AU-color-foreground-background;
    //       }
    //     }
    //   }
    // }
    &.menu-level-0 {
      // Menu level 1
      // This is the border for the entire menu tree.
      border-left: 8px solid $AU-color-background-shade-suggestion;
      > li {
        // This is the only time this is needed.
        @include AU-space( margin-left, 0.5unit );
        > a {
          @include AU-space( padding, 1unit 0.5unit 1unit 2unit );
          @include AU-space( margin-left, -1.5unit );
          &:hover {
            @include AU-space( margin-left, -1unit );
            @include AU-space( padding-left, 1.5unit );
          }
          &.is-active {
            @include AU-space( margin-left, -1unit );
            @include AU-space( padding-left, 1.5unit );
          }
        }
      }
    }
    &.menu-level-1 {
      // Menu level 2
      > li {
        > a {
          @include AU-space( padding, 1unit 0.5unit 1unit 2.5unit );
          @include AU-space( margin-left, -1unit );
          &.is-active {
            @include AU-space( padding-left, 3unit);
          }
        }
      }
    }
    &.menu-level-2 {
      // Menu level 3
      > li {
        > a {
          @include AU-space( padding, 1unit 0.5unit 1unit 3.5unit );
          @include AU-space( margin-left, -1unit );
          &.is-active {
            @include AU-space( padding-left, 4unit );
          }
        }
      }
    }
    &.menu-level-3 {
      // Menu level 4!
      > li {
        > a {
          @include AU-space( padding, 1unit 0.5unit 1unit 4.5unit );
          @include AU-space( margin-left, -1unit );
          &.is-active {
            @include AU-space( padding-left, 5unit );
          }
        }
      }
    }
  }
}
